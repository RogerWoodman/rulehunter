language: go
go_import_path: github.com/vlifesystems/rulehunter
sudo: required

go:
  - 1.8
  - tip

services:
  - mysql

before_install:
  - go get github.com/mattn/goveralls
  - go get golang.org/x/tools/cmd/cover
  - go get github.com/lawrencewoodman/roveralls
  - mysql < ci/createflow_travis.sql

script:
  - chmod +x linux-test-su.sh
  - sudo ./linux-test-su.sh $GOPATH `which go` upstart
  - $HOME/gopath/bin/roveralls
  - $HOME/gopath/bin/goveralls -coverprofile=roveralls.coverprofile -service=travis-ci
